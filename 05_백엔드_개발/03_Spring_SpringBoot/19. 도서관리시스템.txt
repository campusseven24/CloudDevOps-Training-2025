1. home.html 프래그먼트 구조 

    1) 화면 구조 
        - layout.html (프래그먼트 컨테이너)
            - header (common/header.html)
            - main content 
                - css fragement
                - content fragement
                - scripts fragement
            - footer (common/footer.html)


2. 전체 아키텍처
    1) 시스템 구조도 

        Presentation                    Business                    Data
           Layer                          Layer                      Layer
        ------------------          -------------------------     ------------------ 
         * AuthController               * MemberService              * MemberRepo
         * HomeController               * UserDetailsService         * Member Entity   
         * Thymleaf                     * Security Config            * MySql DB
         * Templates

    2) 데이터베이스 ERD 

        ```
        erDiagram
            MEMBERS {
                BIGINT id PK
                VARCHAR username UK
                VARCHAR password 
                VARCHAR email UK 
                VARCHAR name
                VARCHAR phone
                ENUM role
                ENUM member_type
                ENUM status
                TIMESTAMP created_at
                TIMESTAMP updated_at
            }

        ROLE_ENUM {
            string USER "일반 사용자"
            string LIBRARIAN "사서"
            string ADMIN "관리자"
        }

        MEMBER_TYPE_ENUM {
            string REGULAR "일반 사용자"
            string SILVER "실버 회원"
            string GOLD "골드 회원"
            string VIP "관리자"
        }

        STATUS_ENUM {
            string ACTIVE "활성"
            string SUSPENDED "정지"
            string WITHDRAWN "탈퇴"
        }

        MEMBERS ||--|| ROLE_ENUM : has 
        MEMBERS ||--|| MEMBER_TYPE_ENUM : has 
        MEMBERS ||--|| STATUS_ENUM : has 
        ```
    
    3) 구현 순서
        - 프로젝트 설정 
        - DB 설계 및 엔티티 
        - Repository 계층 
        - DTO 및 검증  
        - Service 계층 
        - Security 설정
        - Controller 계층 
        - View 템플릿 
        - 테스트 및 검증 


3. 구현 
    1) STEP 1 : Entity 레이어 구현 
        - Role.java
        - MemberStatus.java 
        - MemberType.java 
        - Member.java (핵심!)

    2) STEP 2 : Repository 레이어 구현 
        - MemberRepository.java     

    3) STEP 3 : DTO 레이어 구현 
        - MemberDTO.java 

    4) STEP 4 : Service 레이어 구현 
        - MemberService.java 
            - 회원 가입 
                - 이메일
                - 비밀번호
                - 비밀번호 확인
                - 이름
                - 전화번호
                - 주소 
                - 약관동의   

            - 정규 표현식 패턴
                - 예)
                    @Pattern(regexp = "^(?=.*[a-zA-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,20}$", message = "비밀번호는 영문, 숫자를 포함해야 합니다.")
                    private String password;

                - 앵커(Anchors)
                    - ^ : 문자열의 시작을 의미
                    - $ : 문자열의 끝을 의미   
                    - 이 두개가 있어야 전체 문자열이 패턴과 정확히 일치하는지 확인 가능   

                - 전방탐색 
                    - (?=...) : 현재 위치에서 앞을 "미리봐서" 조건을 확인하라
                                "이 문자열 어딘가에 영문자가 있는지 확인해줘"라고 요청하는 것 
                    - 예
                        - (?=.*[a-zA-Z]) <========= "문자열 어디가에 영문자가 최소 1개는 있어야 함"
                            - .* : 0개 이상의 아무 문자   
                            - [a-zA-Z] : 대소문자 영문자 하나

                        - (?=.*\\d)     <========== "문자열 어디가에 숫자가 최소 1개는 있어야 함"    
                            - \\d : 숫자 하나(0-9) 

                        - {8,20} : 8개 이상 20개 이하

        - 애플리케이션 라이프 사이클 
            - 애플리케이션 시작 시점 (한번만)
                - @Configuration 클래스 로드 
                - @Bean 메서드 실행 <--- filterChain 메서드가 여기서 실행
                - SecurityFilterChain 빈 생성 
                - 필터 체인 등록 완료 

            - 런타임 시점 (매 요청마다)
                - Http 요청 수신
                - SecurityFilterChain 적용 
                - 인증/인가 검사
                - Controller로 전달                 


        - CustomUserDetailsService.java 

    5) STEP 5 : Security Config 레이어 구현 
        - SecurityConfig.java 

    6) SETP 6 : Controller 레이어 구현 
        - AuthController.java                 
